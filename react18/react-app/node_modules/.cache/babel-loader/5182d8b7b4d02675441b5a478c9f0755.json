{"ast":null,"code":"var _jsxFileName = \"/Users/user/code/react18/react-app/src/App.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useReducer, useState } from 'react';\nimport Meals from \"./components/Meals/Meals\";\nimport CartContext from \"./store/cart-context\";\nimport FilterMeals from \"./components/FilterMeals/FilterMeals\";\nimport Cart from \"./components/Cart/Cart\"; // 模拟一组食物数据\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MEALS_DATA = [{\n  id: '1',\n  title: '汉堡包',\n  desc: '百分百纯牛肉配搭爽脆酸瓜洋葱粒与美味番茄酱经典滋味让你无法抵挡！',\n  price: 12,\n  img: '/img/meals/1.png'\n}, {\n  id: '2',\n  title: '双层吉士汉堡',\n  desc: '百分百纯牛肉与双层香软芝，加上松软面包及美味酱料，诱惑无人能挡！',\n  price: 20,\n  img: '/img/meals/2.png'\n}, {\n  id: '3',\n  title: '巨无霸',\n  desc: '两块百分百纯牛肉，搭配生菜、洋葱等新鲜食材，口感丰富，极致美味！',\n  price: 24,\n  img: '/img/meals/3.png'\n}, {\n  id: '4',\n  title: '麦辣鸡腿汉堡',\n  desc: '金黄脆辣的外皮，鲜嫩幼滑的鸡腿肉，多重滋味，一次打动您挑剔的味蕾！',\n  price: 21,\n  img: '/img/meals/4.png'\n}, {\n  id: '5',\n  title: '板烧鸡腿堡',\n  desc: '原块去骨鸡排嫩滑多汁，与翠绿新鲜的生菜和香浓烧鸡酱搭配，口感丰富！',\n  price: 22,\n  img: '/img/meals/5.png'\n}, {\n  id: '6',\n  title: '麦香鸡',\n  desc: '清脆爽口的生菜，金黄酥脆的鸡肉。营养配搭，好滋味的健康选择！',\n  price: 14,\n  img: '/img/meals/6.png'\n}, {\n  id: '7',\n  title: '吉士汉堡包',\n  desc: '百分百纯牛肉与香软芝士融为一体配合美味番茄醬丰富口感一咬即刻涌现！',\n  price: 12,\n  img: '/img/meals/7.png'\n}]; // 定义cartReducer\n\nconst cartReducer = (state, action) => {\n  // 复制购物车\n  const newCart = { ...state\n  };\n\n  switch (action.type) {\n    default:\n      return state;\n\n    case 'ADD':\n      if (newCart.items.indexOf(action.meal) === -1) {\n        newCart.items.push(action.meal);\n        action.meal.amount = 1;\n      } else {\n        action.meal.amount += 1;\n      }\n\n      newCart.totalAmount += 1;\n      newCart.totalPrice += action.meal.price;\n      return newCart;\n\n    case 'REMOVE':\n      action.meal.amount -= 1;\n\n      if (action.meal.amount === 0) {\n        newCart.items.splice(newCart.items.indexOf(action.meal), 1);\n      }\n\n      newCart.totalAmount -= 1;\n      newCart.totalPrice -= action.meal.price;\n      return newCart;\n\n    case 'CLEAR':\n      newCart.items.forEach(item => delete item.amount);\n      newCart.items = [];\n      newCart.totalAmount = 0;\n      newCart.totalPrice = 0;\n      return newCart;\n  }\n};\n\nconst App = () => {\n  _s();\n\n  // 创建一个state用来存储食物列表\n  const [mealsData, setMealsData] = useState(MEALS_DATA);\n  const [cartData, cartDispatch] = useReducer(cartReducer, {\n    items: [],\n    totalAmount: 0,\n    totalPrice: 0\n  }); // 创建一个过滤meals的函数\n\n  const filterHandler = keyword => {\n    const newMealsData = MEALS_DATA.filter(item => item.title.indexOf(keyword) !== -1);\n    setMealsData(newMealsData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: { ...cartData,\n      cartDispatch\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(FilterMeals, {\n        onFilter: filterHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Meals, {\n        mealsData: mealsData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 9\n  }, this);\n};\n\n_s(App, \"wDqpWUfFWR6x/u5UtxBwBXLOf5E=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useReducer","useState","Meals","CartContext","FilterMeals","Cart","MEALS_DATA","id","title","desc","price","img","cartReducer","state","action","newCart","type","items","indexOf","meal","push","amount","totalAmount","totalPrice","splice","forEach","item","App","mealsData","setMealsData","cartData","cartDispatch","filterHandler","keyword","newMealsData","filter"],"sources":["/Users/user/code/react18/react-app/src/App.jsx"],"sourcesContent":["import React, {useReducer, useState} from 'react';\nimport Meals from \"./components/Meals/Meals\";\nimport CartContext from \"./store/cart-context\";\nimport FilterMeals from \"./components/FilterMeals/FilterMeals\";\nimport Cart from \"./components/Cart/Cart\";\n\n\n// 模拟一组食物数据\nconst MEALS_DATA = [\n    {\n        id: '1',\n        title: '汉堡包',\n        desc: '百分百纯牛肉配搭爽脆酸瓜洋葱粒与美味番茄酱经典滋味让你无法抵挡！',\n        price: 12,\n        img: '/img/meals/1.png'\n    },\n    {\n        id: '2',\n        title: '双层吉士汉堡',\n        desc: '百分百纯牛肉与双层香软芝，加上松软面包及美味酱料，诱惑无人能挡！',\n        price: 20,\n        img: '/img/meals/2.png'\n    },\n    {\n        id: '3',\n        title: '巨无霸',\n        desc: '两块百分百纯牛肉，搭配生菜、洋葱等新鲜食材，口感丰富，极致美味！',\n        price: 24,\n        img: '/img/meals/3.png'\n    }, {\n        id: '4',\n        title: '麦辣鸡腿汉堡',\n        desc: '金黄脆辣的外皮，鲜嫩幼滑的鸡腿肉，多重滋味，一次打动您挑剔的味蕾！',\n        price: 21,\n        img: '/img/meals/4.png'\n    }, {\n        id: '5',\n        title: '板烧鸡腿堡',\n        desc: '原块去骨鸡排嫩滑多汁，与翠绿新鲜的生菜和香浓烧鸡酱搭配，口感丰富！',\n        price: 22,\n        img: '/img/meals/5.png'\n    }, {\n        id: '6',\n        title: '麦香鸡',\n        desc: '清脆爽口的生菜，金黄酥脆的鸡肉。营养配搭，好滋味的健康选择！',\n        price: 14,\n        img: '/img/meals/6.png'\n    }, {\n        id: '7',\n        title: '吉士汉堡包',\n        desc: '百分百纯牛肉与香软芝士融为一体配合美味番茄醬丰富口感一咬即刻涌现！',\n        price: 12,\n        img: '/img/meals/7.png'\n    }\n];\n\n\n// 定义cartReducer\nconst cartReducer = (state, action)=>{\n    // 复制购物车\n    const newCart = {...state};\n\n    switch (action.type){\n        default:\n            return state;\n        case 'ADD':\n            if (newCart.items.indexOf(action.meal) === -1) {\n                newCart.items.push(action.meal);\n                action.meal.amount = 1;\n            } else {\n                action.meal.amount += 1;\n            }\n            newCart.totalAmount += 1;\n            newCart.totalPrice += action.meal.price;\n            return newCart;\n        case 'REMOVE':\n            action.meal.amount -= 1;\n            if (action.meal.amount === 0) {\n                newCart.items.splice(newCart.items.indexOf(action.meal), 1);\n            }\n            newCart.totalAmount -= 1;\n            newCart.totalPrice -= action.meal.price;\n            return newCart;\n        case 'CLEAR':\n            newCart.items.forEach(item => delete item.amount);\n            newCart.items = [];\n            newCart.totalAmount = 0;\n            newCart.totalPrice = 0;\n            return newCart;\n    }\n};\n\nconst App = () => {\n\n    // 创建一个state用来存储食物列表\n    const [mealsData, setMealsData] = useState(MEALS_DATA);\n\n    const [cartData, cartDispatch] = useReducer(cartReducer, {\n            items: [],\n            totalAmount: 0,\n            totalPrice: 0\n    });\n\n    // 创建一个过滤meals的函数\n    const filterHandler = (keyword) => {\n        const newMealsData = MEALS_DATA.filter(item => item.title.indexOf(keyword) !== -1);\n        setMealsData(newMealsData);\n    };\n\n    return (\n        <CartContext.Provider value={{...cartData, cartDispatch}}>\n            <div>\n                <FilterMeals onFilter={filterHandler}/>\n                <Meals\n                    mealsData={mealsData}\n                />\n                <Cart/>\n            </div>\n        </CartContext.Provider>\n    );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}